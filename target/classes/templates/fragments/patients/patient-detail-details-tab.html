<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
    <head></head>
    <body>
        <div th:fragment="details-tab" id="tabDetailsContent" class="tab-pane fade show active" role="tabpanel" aria-labelledby="-tab" tabindex="0">
            <div class="accordion mt-4">
                <!-- INFORMACIÓN GENERAL -->
                <div class="accordion-item px-0 border-0">
                    <h3 id="generalInformationHeading" class="accordion-header">
                        <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#generalInformationCollapse" aria-expanded="true" aria-controls="generalInformationCollapse" title="Información general">Información general</button>
                    </h3>
                    <div id="generalInformationCollapse" class="accordion-collapse collapse show" aria-labelledby="generalInformationHeading">
                        <div class="accordion-body">
                            <div class="row gy-2">
                                <div class="col-xs-12">
                                    <div class="form-group">
                                        <small title="Nombre">Nombre</small>
                                        <p th:text="${patientDetailDto.name}" th:title="${patientDetailDto.name}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12">
                                    <div class="form-group">
                                        <small title="Primer apellido">Primer apellido</small>
                                        <p class="space-break" th:text="${patientDetailDto.middleName}" th:title="${patientDetailDto.middleName}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Segundo apellido">Segundo apellido</small>
                                        <p th:text="${patientDetailDto.lastName}" th:title="${patientDetailDto.lastName}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Colegio">Colegio</small>
                                        <p th:text="${patientDetailDto.school}" th:title="${patientDetailDto.school}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Fecha de nacimiento">Fecha de nacimiento</small>
                                        <p th:with="birthdate = ${#dates.format(patientDetailDto.birthdate, 'd MMMM, yyyy')}" th:text="${birthdate}" th:title="${birthdate}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12">
                                    <div class="form-group">
                                        <small title="Observaciones">Observaciones</small>
                                        <p th:text="${patientDetailDto.observations}" th:title="${patientDetailDto.observations}"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                

                <!-- CLASIFICACIÓN -->
                <div class="accordion-item px-0 border-0">
                    <h3 id="classificationHeading" class="accordion-header">
                        <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#classificationCollapse" aria-expanded="true" aria-controls="classificationCollapse" title="Autorizaciones">Autorizaciones</button>
                    </h3>
                    <div id="classificationCollapse" class="accordion-collapse collapse show" aria-labelledby="classificationHeading">
                        <div class="accordion-body">
                            <div class="row gy-2">
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Habilitado">Habilitado</small>
                                        <p th:with="enabled = ${patientDetailDto.enabled ? 'Sí' : 'No'}" th:text="${enabled}" th:title="${enabled}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Ley de proteccion de datos">Ley de proteccion de datos</small>
                                        <p th:with="lopd = ${patientDetailDto.lopd ? 'Sí' : 'No'}" th:text="${lopd}" th:title="${lopd}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Coordinacion con el colegio">Coordinacion con el colegio</small>
                                        <p th:with="schoolCordination = ${patientDetailDto.schoolCordination ? 'Sí' : 'No'}" th:text="${schoolCordination}" th:title="${schoolCordination}"></p>
                                    </div>
                                </div>
                                <div class="col-xs-12">
                                    <div class="form-group">
                                        <small title="Servicios">Servicios</small>
                                        <p th:text="${patientDetailDto.plainServices}" th:title="${patientDetailDto.plainServices}"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                

                <!-- INFORMACIÓN DEL SISTEMA -->
                <div class="accordion-item px-0 border-0">
                    <h3 id="systemInformationHeading" class="accordion-header">
                        <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#systemInformationCollapse" aria-expanded="true" aria-controls="systemInformationCollapse" title="Información del sistema">Información del sistema</button>
                    </h3>
                    <div id="systemInformationCollapse" class="accordion-collapse collapse show" aria-labelledby="systemInformationHeading">
                        <div class="accordion-body">
                            <div class="row gy-2">
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Creado por">Creado por</small>
                                        <p>
                                            <a th:href="@{/users/{username}(username = ${patientDetailDto.createdByUsername})}" class="link-primary" th:text="${patientDetailDto.createdByFullName}" th:title="${patientDetailDto.createdByFullName}"></a>,
                                            <span th:with="createdAt = ${#dates.format(patientDetailDto.createdAt, 'd MMMM, yyyy HH:mm')}" th:text="${createdAt}" th:title="${createdAt}"></span>
                                        </p>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-group">
                                        <small title="Última modificación por">Última modificación por</small>
                                        <p>
                                            <a th:href="@{/users/{username}(username = ${patientDetailDto.lastModifiedByUsername})}" class="link-primary" th:text="${patientDetailDto.lastModifiedByFullName}" th:title="${patientDetailDto.lastModifiedByFullName}"></a>,
                                            <span th:with="lastModifiedAt = ${#dates.format(patientDetailDto.lastModifiedAt, 'd MMMM, yyyy HH:mm')}" th:text="${lastModifiedAt}" th:title="${lastModifiedAt}"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>